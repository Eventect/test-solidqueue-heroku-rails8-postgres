<h1>Background Job Test</h1>

<% if notice %>
  <p style="color: green; padding: 10px; background: #e8f5e9; border-radius: 4px;">
    <%= notice %>
  </p>
<% end %>

<%= button_to "Start Background Job", job_results_path, method: :post, style: "padding: 10px 20px; font-size: 16px; cursor: pointer;" %>

<h2>Job Results</h2>

<% if @job_results.any? %>
  <table border="1" cellpadding="10" cellspacing="0" style="margin-top: 20px;">
    <thead>
      <tr>
        <th>ID</th>
        <th>Message</th>
        <th>Created At</th>
      </tr>
    </thead>
    <tbody>
      <% @job_results.each do |result| %>
        <tr>
          <td><%= result.id %></td>
          <td><%= result.message %></td>
          <td><%= result.created_at %></td>
        </tr>
      <% end %>
    </tbody>
  </table>
<% else %>
  <p>No job results yet. Click the button to start a job!</p>
<% end %>
